---
marp: true
---
# ABC158
## F - Removing Robots
https://www.youtube.com/watch?v=sv3l8heocMY&t=5447s
- ロボット間の依存関係をDAGとして記述する
    - あるロボットを動かしたら、動くロボット
    - 左からのグラフ
    - 閉路がない有向グラフ
    - 考えられるパターンとしては上の方が塗られて、ある時点から白になっていく

---¥¥¥¥
- 一般のDAGだとNP困難
    - 例えば縦に並ぶ場合など
- 今回なぜ解けるのかというと・・・？
    - 何か性質があるはず！
- 実質木!?
    - あるロボットには、連鎖的に起動するような最も近いものからの辺を貼る
    - 入次数：高々1
    - 非連結だが、連結成分だけやって、あとで掛け合わせれば良い
---

- 木DPをすればよい
    - `dp[V][i] = Vの色をiにするときのV以下の部分木を塗る場合の数`
    - i = 0,1

- `dp[V][0] = 1`
- `dp[V][1] = (cについてのかけ算)dp[c][1] + dp[c][0]`

---
- i = 0の場合は絶対1になるのでいらない

- `dp[V] = V以下の部分木を塗る場合の数`
     - `dp[V] = (cについてのかけ算)dp[c]`


---

##　まとめ
- 依存関係をDAGで書く
- DAGでは多項式時間で解けないので、考察を進めると、木構造に帰着することができる

